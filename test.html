<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!-- <link rel="stylesheet" href="./index.css"> -->
    <meta charset="UTF-8">
    <title>前端播放m3u8格式视频</title>
    <link href="https://vjs.zencdn.net/7.4.1/video-js.css" rel="stylesheet">
    <script src='https://vjs.zencdn.net/7.4.1/video.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/5.15.0/videojs-contrib-hls.min.js" type="text/javascript"></script>
    <!-- videojs-contrib-hls 用于在电脑端播放 如果只需手机播放可以不引入 -->

    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

  </head>
  <body>
   <div style="display: block; margin: 0 auto; width: 50%; ">
	<input id=url type=text value="https://src.bomjack.com/1220240702/9bf2e3dd4e9a8fe7bacd70e731d894c5/video.m3u8" style="width:660px;"/>
	<input type=button value="play" onclick="play()"/>
	<br>
    <video id="video" controls style="width:1080px;height:720px;"></video>
    <script>
	var Hls = window.Hls;
	//var url = 'https://src.bomjack.com/1220240702/9bf2e3dd4e9a8fe7bacd70e731d894c5/video.m3u8'
	function play(){
	var url = document.getElementById("url").value;
 
	if (Hls.isSupported()) {
		var hls = new Hls();
		hls.loadSource(url);
		hls.attachMedia(video);
		hls.on(Hls.Events.MANIFEST_PARSED, function () {
			video.play()
		});
	} else if (video.canPlayType('application/vnd.apple.mpegurl')) {
		video.src = url;
		video.addEventListener('canplay', function () {
			video.play()
		});
	}
	}

	</script>
   </div>
  </body>

</html>
